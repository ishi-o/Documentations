## 复习

### 文件系统的弊端

- 数据冗余、数据不一致：在多个文件中，某些数据会出现冗余，导致修改时涉及很多文件，此时发生异常将导致数据不一致问题；这里的**一致性**指的是**不同文件**中数据**本该相同，但实际上不同**的情况
- 访问困难
- 数据孤立
- 数据**完整性**：指**文件中数据不符合现实逻辑**的情况，对某个数据添加约束时，很难约束所有涉及到该文件的程序
- 操作的原子性：对文件的修改难以做到要么全部完成、要么完全没有修改
- 多用户并发访问：当多个用户同时访问文件时，容易导致数据不一致问题
- 安全性问题：难以灵活调整不同用户对文件的访问权限

### `DBMS`基本概念

- 数据是描述现实事物的符号记录
- 数据库是数据的集合
- `DBMS`(数据库管理系统)，是用于管理数据库的基础软件系统，也是通常意义上的数据库
  数据库系统则是由`DBMS`、数据库、管理员、应用进程组成的一套系统
- 数据库的三级模式：分为外部层(视图层、外模式)、概念层(逻辑层、模式)、内部层(物理层、内模式)
  - 先考虑模式的概念：相当于一种数据类型，一个模式包含多个属性名及对应的属性类型和完整性约束
    平常接触的表就是一个模式的实例
    平常一个模式只会有一个实例，所以经常将“关系”、“关系模式”混着说
  - 视图层：对于不同的用户、根据权限和需求展现不同的数据
    例如平时使用查询语句以及创建视图时，查出来的结果，用户可以修改视图的列名，由系统完成从视图层到概念层的映射，只不过这些视图是
  - 逻辑层：包含由创建该模式的用户起的名称及类型，例如平常接触的表就是一个概念层的实例
  - 物理层：包含具体来说在数据库管理系统中真正的由系统起名、由系统管理的名称；以及其对应的存储大小、存储位置等
- 数据库的两级映射：使数据库具有独立性，在一层发生变动时，其它层不需要由用户维护而仍保持不变
  - 视图层和逻辑层：使数据库具有逻辑独立性
  - 逻辑层和物理层：使数据库具有物理独立性

- 数据模型：是数据、数据联系、数据语义、数据一致性约束的集合
  - 概念数据模型：实体-联系模型
    也就是`ER`图
  - 逻辑数据模型：关系模型、网状模型、层次模型、基于对象数据模型、半结构化数据模型
  - 物理数据模型：`B`树等

### 关系数据模型

- 关系数据模型是一种逻辑数据模型
  其中数据结构、数据完整性约束体现在用户设计的模式上
  数据操作和数据结构、数据完整性约束共同构成关系数据模型
- 在关系数据模型中：
  - 关系模式的实例称为关系，它们通常是一对一的，所以会混着用
  - 关系也称为表
  - 属性相当于表的一列
  - 元组相当于表的一行，元组是一个关系的最小单位
- 一个属性的域是所有可以作为该属性的值的集合
  域的原子性是第一范式，即域的所有值都是不可再分的
- 空值`NULL`是一个特殊的值，表示未知、不确定，其参与的所有表达式都返回`false`(除`is null`等特殊表达式)
- 关系完整性约束：
  - 超码：是一个属性组，若这个属性组的值确定，则可以唯一确定关系中所有属性的值
  - 候选码：是最小的超码，其任何真子集都不是超码
    所有在候选码中出现过的属性称作**主属性**，其余是非主属性
  - 主码：被设计者选中来作为关系的唯一标识的那个候选码
  - 实体完整性约束：对于一个主码，它会受到**实体完整性约束**，用户插入的主码的值必须满足唯一、非空
  - 参照完整性约束和外码：一个关系$R_1$的属性组$T_1$参照另一个关系$R_2$的主码$T_2$，称为$T_1$是参照$R_2$的外码
    其中，$T_1$不要求是主码，但有**参照完整性约束**，$T_1$的值要么**为空**、要么是**现在**$R_2$中**存在的$T_2$的值**
    $T_2$要求是$R_2$的主码
  - 用户自定义完整性约束：唯一性约束、非空约束、检查约束(约束值的范围)
- 