### `B. 位完美`

- 题意：给定一个序列$a$，整个序列的贡献定义为$\begin{align}\sum_i2^{a_i}\end{align}$，一定会发生仅一次操作，使得序列去除任意两个元素$a_i,a_j,i\ne j$，并添加一个元素$a_i\oplus a_j$。若此次操作无论选取哪两个元素，新序列的贡献$\ge$旧序列的贡献，则称该序列是位完美的

  问一个序列是否是位完美的

- 观察两个序列贡献的差值$2^{a_i\oplus a_j}-2^{a_i}-2^{a_j}$，这三项的二进制表示都只有一个$1$

  - 该差值不可能等于零，因为若$a_i\ne a_j$，则在二进制表示上可以看出不符合；若$a_i=a_j$，则$2^{a_i\oplus a_j}=1$，一定小于后两项之和

  - 考虑如何使该差值大于零，只需要使$a_i\oplus a_j>\max(a_i,a_j)$即可

    而这个条件要求(假设$a_i<a_j$)$a_i$的最高$1$位在$a_j$中不为$1$

  由数据范围不超过$60$位，因此当序列长度大于$60$时，必定存在两个元素最高$1$位在同一位上，序列不符合条件

  而序列长度小于$60$时，暴力求解即可

  第二种方法：对所有$60$位的每个位，求出在这个位上为$1$的元素个数，若存在某个位，这个个数大于$1$，则序列不合法，复杂度同样是$O(n\log M)$

### `F. 不，是火灾`

- 题意：一个由$0、1$构成的环，$1$在每时刻过去后会传染相邻的元素，使它们变为$1$，有且仅有一次操作，能在最初时删除一个$0$，请问如何操作才能使在给定的时间$t$后，剩余的$0$数量最多，最多是多少

  注：保证初始时至少有一个元素为$1$

- 容易得到，删除最长连续$0$的其中一端是最优的，假设长度为$l$，则时间$t$后剩余$0$的数量为$l-1-\min(l-1,t)$

  其余连续$0$的两端均有$1$，因此若长度为$l$，则时间$t$后剩余$0$的数量为$l-\min(l,2t)$