## 数位和

### 定义及性质

- **数位和**(`digit sum`)：自然数的各位数字（或称各数位、各数码）之和，在本文假设为$f(x)$
  收敛到个位数时，剩下的数称为**数字根**(`digit root`)
- 一个数的众和数的范围远小于原本的范围，例如若$1\le x\le 10^d$，那么$1\le f(x)\le 9d$
  所以也可以用来作为线段树的题目（？
- $x$能被$9$整除$\Leftrightarrow f(x)$能被$9$整除，类似的，$f(f(x))$等递归下去也能被$9$整除
  - 证明：将一个数$x$写成$\begin{align}(x_n\cdots x_1x_0)_{10}\end{align}$，那么$\begin{align}x=\sum_{i=0}^nx_i·10^i=\sum_{i=0}^nx_i·(10^i-1)+\sum_{i=0}^nx_i\end{align}$
    第一项的$10^i-1$说明，第一项能被$9$整除，而第二项是$f(x)$，因此$9|x\Leftrightarrow9|f(x)$
- $\begin{align}\forall x\in[1,10^d],f((10^d-1)x)=9d\end{align}$
  这是很有意义的式子，这告诉我们对于一定范围的数，其乘上一个数后的众和数始终不变
  - 证明：我们可以看看乘上$10^d-1$后发生了什么，$\begin{align}&(10^d-1)x=10^dx-x=10^d(x-1)+10^d-x=10^d(x-1)+((10^d-1)-(x-1))\end{align}$
    可以发现：第一项是$x-1$后跟$d$个$0$，第二项是$d$个$9$减去$x-1$它们相加相当于将$x-1$拼接在第二项前，由于第二项是在全是$9$的基础上减去一个在$[0,10^d-1]$的数$x-1$，因此不会发生借位
    故$f((10^d-1)x)=9d$

### 相关交互题

[ Hacking Numbers (Easy Version) ](https://codeforces.com/problemset/problem/2109/C1)

[ Hacking Numbers (Medium Version) ](https://codeforces.com/problemset/problem/2109/C2)

[ Hacking Numbers (Hard Version) ](https://codeforces.com/problemset/problem/2109/C3)